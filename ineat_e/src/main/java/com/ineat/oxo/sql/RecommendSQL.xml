<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE mapper
         PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
         "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="rSQL">
	<!-- 맛집가게명 가져오기 -->
	<select id="showList" resultType="tVO">
		SELECT
		ml_title, ml_no
		FROM
		IE_MAINLIST
		WHERE
		ml_no BETWEEN 1000001 AND 1000006
	</select>
	
	<!-- 메뉴리스트 가져오기 -->
	<select id="menuList" resultType="tVO">
	<![CDATA[
		SELECT
 			ROWNUM rno, ml_menu
		FROM
			(SELECT
    			ml_menu
			FROM
    			ie_mainlist
			WHERE
    			ml_tag LIKE '%중식%'
			OR
    			ml_menu LIKE '%중식%'
			OR
       			ml_tag LIKE '%한식%'
			OR
    			ml_menu LIKE '%한식%'
			ORDER BY DBMS_RANDOM.VALUE
			)
		WHERE
    		ROWNUM  < 7
   ]]>
	</select>
	
	  <!--날씨관련메뉴 가져오기-->
	<select id="weatherChoo" resultType="tVO" parameterType="string">
		SELECT
    		ROWNUM rno , ml_menu, ml_title, ml_tag, mf_filename
		FROM
		(
		SELECT
    	*
		FROM
    		ie_mainlist l, ie_main_fileup f
		WHERE
    		f.mf_mlno = l.ml_no
    	ORDER BY DBMS_RANDOM.VALUE
		)
		WHERE
    		ml_tag LIKE '%' || #{dayCondition} || '%'
    	AND
    		ROWNUM = 1
	</select>
</mapper>